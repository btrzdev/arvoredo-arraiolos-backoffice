(()=>{var e={};e.id=824,e.ids=[824],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},1377:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d}),r(952),r(611),r(5866),r(1506);var s=r(3191),o=r(8716),a=r(7922),i=r.n(a),n=r(5231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d=["",{children:["(auth)",{children:["(routes)",{children:["sign-up",{children:["[[...sign-up]]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,952)),"/home/bsilva/Code/arvoredo_arraiolos/arvoredo-arraiolos-backoffice/app/(auth)/(routes)/sign-up/[[...sign-up]]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,611)),"/home/bsilva/Code/arvoredo_arraiolos/arvoredo-arraiolos-backoffice/app/(auth)/(routes)/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,5080))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/home/bsilva/Code/arvoredo_arraiolos/arvoredo-arraiolos-backoffice/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,5080))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/home/bsilva/Code/arvoredo_arraiolos/arvoredo-arraiolos-backoffice/app/(auth)/(routes)/sign-up/[[...sign-up]]/page.tsx"],c="/(auth)/(routes)/sign-up/[[...sign-up]]/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/(auth)/(routes)/sign-up/[[...sign-up]]/page",pathname:"/sign-up/[[...sign-up]]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8062:(e,t,r)=>{Promise.resolve().then(r.bind(r,7710))},7170:(e,t,r)=>{Promise.resolve().then(r.bind(r,4087))},4277:(e,t,r)=>{Promise.resolve().then(r.bind(r,543))},3595:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},7710:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(326),o=r(7577),a=r(5047),i=r(1048),n=r(4432),l=r(772),d=r(381),u=r(434);let c=e=>!!(!(e.length<8)&&/[A-Z]/.test(e)&&/[a-z]/.test(e)&&/\d/.test(e)&&/[!@#$%^&*()_+{}\[\]:;<>,.?~\\/-]/.test(e));function m(){let[e,t]=(0,o.useState)(""),[r,m]=(0,o.useState)(""),[p,f]=(0,o.useState)(""),[h,g]=(0,o.useState)(""),[x,v]=(0,o.useState)(""),[b,y]=(0,o.useState)(!1),j=(0,a.useRouter)(),w=async t=>{if(t.preventDefault(),v(""),y(!0),!c(h)){v("A password deve conter pelo menos 8 caracteres, incluindo letras mai\xfasculas, min\xfasculas, n\xfameros e caracteres especiais."),y(!1);return}try{let t=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:e,lastName:r,email:p,password:h})});if(t.ok)await t.json(),d.Am.success("Registado efetuado! Avan\xe7ando para Login..."),j.push("/sign-in");else{let e=await t.json();v(e.message||"O registo falhou"),d.Am.error(e.message||"Ocorreu um erro com o registo")}}catch(e){console.error("Error during sign-up:",e),v("Something went wrong"),d.Am.error("Something went wrong")}finally{y(!1)}};return(0,s.jsxs)("div",{className:"mx-auto mt-16 max-w-md",children:[s.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Registar"}),(0,s.jsxs)("form",{onSubmit:w,children:[(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx(i._,{htmlFor:"firstName",children:"Primeiro Nome"}),s.jsx(n.I,{id:"firstName",type:"text",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx(i._,{htmlFor:"lastName",children:"Apelido"}),s.jsx(n.I,{id:"lastName",type:"text",value:r,onChange:e=>m(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx(i._,{htmlFor:"email",children:"Email"}),s.jsx(n.I,{id:"email",type:"email",value:p,onChange:e=>f(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx(i._,{htmlFor:"password",children:"Password"}),s.jsx(n.I,{id:"password",type:"password",value:h,onChange:e=>g(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"mb-[20px] flex gap-[2px] text-[12px]",children:[s.jsx("span",{children:"Possui uma conta?"}),s.jsx(u.default,{href:"/sign-in",className:"text-blue-400 hover:brightness-75",children:"Entrar"})]}),x&&s.jsx("p",{className:"text-red-500",children:x}),s.jsx(l.z,{type:"submit",disabled:b,children:b?"A carregar...":"Registar"})]})]})]})}},799:(e,t,r)=>{"use strict";r.d(t,{P3:()=>i,Rt:()=>a});var s=r(1190);let o="https://app.grupoerre.pt:5258",a=async(e,t,r,a)=>{let n=localStorage.getItem("token"),l=await fetch(`${o}/api/occurrences/edit/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({name:e.name,email:e.email,comments:e.comments,imgUrl:e.imgUrl,status:t})}),d=await l.json();"Occurence successfully edited"===d.message&&s.Am.success("Ocorr\xeancia editada com sucesso"),i(a),console.log("Editar ocurrence",d)},i=async e=>{let t=localStorage.getItem("token"),r=await fetch(`${o}/api/occurrences/get-all`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}),s=await r.json();e(s.occurences),console.log("Occurrences fetched",s)}},9728:(e,t,r)=>{"use strict";r.d(t,{Ho:()=>u,O2:()=>c});var s=r(326),o=r(5047),a=r(7577),i=r(8201);let n=e=>{try{let t=(0,i.o)(e),r=Math.floor(Date.now()/1e3);return t.exp>r}catch(e){return!1}},l=e=>{try{let t=(0,i.o)(e),r=Math.floor(Date.now()/1e3);if(t.exp>r)return{token:t,refreshToken:e}}catch(e){console.error("Failed to decode refresh token:",e)}return null},d=(0,a.createContext)(void 0),u=({children:e})=>{let[t,r]=(0,a.useState)(!0),[u,c]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),[f,h]=(0,a.useState)(),[g,x]=(0,a.useState)({userGroup:""}),[v,b]=(0,a.useState)({latitude:0,longitude:0}),[y,j]=(0,a.useState)(!1),[w,P]=(0,a.useState)(),[S,_]=(0,a.useState)(),N=(0,o.useRouter)();return(0,a.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("refreshToken");(async()=>{if(e&&n(e))p(e),x((0,i.o)(e)),c(!0);else if(t){let e=l(t);e?(localStorage.setItem("token",e.token),localStorage.setItem("refreshToken",e.refreshToken),c(!0)):N.push("/sign-in")}else N.push("/sign-in");r(!1)})()},[]),s.jsx(d.Provider,{value:{authenticated:u,setAuthenticated:c,loading:t,setLoading:r,token:m,setToken:p,editors:f,setEditors:h,userType:g,setUserType:x,latLong:v,setLatLong:b,showDeleteModal:y,setShowDeleteModal:j,treeToDeleteId:w,setTreeToDeleteId:P,dataUpdated:S,setDataUpdated:_},children:e})},c=()=>{let e=(0,a.useContext)(d);if(!e)throw Error("useEvent must be used within an EventProvider");return e}},6768:(e,t,r)=>{"use strict";r.d(t,{db:()=>n,hp:()=>l});var s=r(326),o=r(7577),a=r(799);let i=(0,o.createContext)(void 0),n=({children:e})=>{let[t,r]=(0,o.useState)();return(0,o.useEffect)(()=>{(0,a.P3)(r)},[]),s.jsx(i.Provider,{value:{allOccurrences:t,setAllOccurrences:r},children:e})},l=()=>{let e=(0,o.useContext)(i);if(!e)throw Error("useEvent must be used within an EventProvider");return e}},4087:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(326),o=r(9749),a=r.n(o);r(7577);var i=r(4831),n=r(9728),l=r(6768);function d({children:e,...t}){return s.jsx(n.Ho,{children:s.jsx(l.db,{children:s.jsx(i.f,{...t,children:e})})})}var u=r(381);function c({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:s.jsx("body",{className:a().className,children:(0,s.jsxs)(d,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[e,s.jsx(u.x7,{})]})})})}r(4047)},543:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Logo:()=>i});var s=r(326),o=r(6226),a=r(5047);function i(){let e=(0,a.useRouter)();return(0,s.jsxs)("div",{className:"flex h-20 min-h-20 cursor-pointer items-center gap-2 border-b px-6",onClick:()=>e.push("/"),children:[s.jsx("div",{className:"relative h-16 w-16",children:s.jsx(o.default,{src:"/lrb_black.svg",alt:"Logo",fill:!0,style:{objectFit:"contain"},priority:!0})}),s.jsx("h1",{className:"ml-4 text-xl font-bold",children:"Arvoredo"})]})}},772:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var s=r(326),o=r(7577),a=r(4214),i=r(8671),n=r(7863);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=o.forwardRef(({className:e,variant:t,size:r,asChild:o=!1,...i},d)=>{let u=o?a.g7:"button";return s.jsx(u,{className:(0,n.cn)(l({variant:t,size:r,className:e})),ref:d,...i})});d.displayName="Button"},4432:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var s=r(326),o=r(7577),a=r(7863);let i=o.forwardRef(({className:e,type:t,...r},o)=>s.jsx("input",{type:t,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...r}));i.displayName="Input"},1048:(e,t,r)=>{"use strict";r.d(t,{_:()=>d});var s=r(326),o=r(7577),a=r(4478),i=r(8671),n=r(7863);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=o.forwardRef(({className:e,...t},r)=>s.jsx(a.f,{ref:r,className:(0,n.cn)(l(),e),...t}));d.displayName=a.f.displayName},7863:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(1135),o=r(1009);function a(...e){return(0,o.m6)((0,s.W)(e))}},611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(9510),o=r(2631);function a({children:e}){return(0,s.jsxs)("div",{className:"flex h-full flex-col items-center justify-center",children:[s.jsx(o.T,{}),s.jsx("h1",{className:"my-2 text-3xl",children:"Dashboard"}),s.jsx("h2",{className:"mb-3 text-2xl",children:"LRB"}),e]})}},952:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});var s=r(8570);let o=(0,s.createProxy)(String.raw`/home/bsilva/Code/arvoredo_arraiolos/arvoredo-arraiolos-backoffice/app/(auth)/(routes)/sign-up/[[...sign-up]]/page.tsx`),{__esModule:a,$$typeof:i}=o;o.default;let n=(0,s.createProxy)(String.raw`/home/bsilva/Code/arvoredo_arraiolos/arvoredo-arraiolos-backoffice/app/(auth)/(routes)/sign-up/[[...sign-up]]/page.tsx#default`)},1506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});var s=r(8570);let o=(0,s.createProxy)(String.raw`/home/bsilva/Code/arvoredo_arraiolos/arvoredo-arraiolos-backoffice/app/layout.tsx`),{__esModule:a,$$typeof:i}=o;o.default;let n=(0,s.createProxy)(String.raw`/home/bsilva/Code/arvoredo_arraiolos/arvoredo-arraiolos-backoffice/app/layout.tsx#default`)},2631:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var s=r(8570);let o=(0,s.createProxy)(String.raw`/home/bsilva/Code/arvoredo_arraiolos/arvoredo-arraiolos-backoffice/components/Logo/Logo.tsx`),{__esModule:a,$$typeof:i}=o;o.default;let n=(0,s.createProxy)(String.raw`/home/bsilva/Code/arvoredo_arraiolos/arvoredo-arraiolos-backoffice/components/Logo/Logo.tsx#Logo`)},5080:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(6621);let o=e=>[{type:"image/x-icon",sizes:"32x32",url:(0,s.fillMetadataSegment)(".",e.params,"icon.ico")+"?9c2b4fff6c2d4d8a"}]},4047:()=>{},4478:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});var s=r(7577),o=r(5226),a=r(326),i=s.forwardRef((e,t)=>(0,a.jsx)(o.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=i}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,350,486],()=>r(1377));module.exports=s})();